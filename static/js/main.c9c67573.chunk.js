(this["webpackJsonphi-lo"]=this["webpackJsonphi-lo"]||[]).push([[0],{29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},50:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(22),s=c.n(n),r=(c(29),c(5)),i=c.n(r),l=c(15),o=c(10),d=c(9),j=(c(31),c(32),c(8)),h=c(0),u=function(){return Object(h.jsx)(j.c,{to:"/hi-lo",className:"header-link",children:Object(h.jsx)("header",{className:"header",children:Object(h.jsx)("h1",{children:"hi-lo weather \u2600\ufe0f"})})})},m=c(16),p=c(20),b=c.n(p),x=(c(45),function(e){var t=e.onSearch,c=Object(a.useState)(""),n=Object(d.a)(c,2),s=n[0],r=n[1],l=""===s.trim(),j=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.geocodeByAddress)(t);case 2:c=e.sent,r(c[0].formatted_address);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e;t((e=s).includes("USA")?e.split("").slice(0,-1).join(""):e),r("")};return Object(h.jsx)("div",{className:"searchForm",children:Object(h.jsx)("form",{className:"search-by-city",children:Object(h.jsx)(b.a,{value:s,onChange:r,onSelect:j,searchOptions:{types:["(cities)"]},children:function(e){var t=e.getInputProps,c=e.suggestions,a=e.getSuggestionItemProps,n=e.loading;return Object(h.jsxs)("div",{className:"autocomplete",children:[Object(h.jsx)("label",{children:"Search by City"}),Object(h.jsx)("input",Object(m.a)({className:"my-input",id:"searchInput"},t({placeholder:"Type City"}))),Object(h.jsx)("button",{className:"search-btn",type:"submit",onClick:u,disabled:l,children:"add"}),Object(h.jsxs)("div",{className:"suggestions",children:[n?Object(h.jsx)("div",{children:"Loading..."}):null,c.map((function(e){var t=e.active?{backgroundColor:"#668b8a"}:{backgroundColor:"#ffff"};return Object(h.jsx)("li",Object(m.a)(Object(m.a)({},a(e,{style:t})),{},{children:e.description}))}))]})]})}})})})}),O=(c(46),c(47),function(e){var t=e.key,c=e.id,a=e.onSelect,n=e.clickedCard,s=(e.details,e.name),r=e.hi,i=e.lo,l=e.description,o=e.icon,d=e.stateString,u=e.deleteCity;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"city-card",onClick:function(){return a(n)},children:[Object(h.jsxs)("h2",{className:"city-name",children:[s,", ",d]}),Object(h.jsx)("h3",{className:"today",children:"Today"}),Object(h.jsxs)("p",{className:"hi-lo",children:["Hi: ",r.toFixed(0),"\xb0 | Lo: ",i.toFixed(0),"\xb0 "]}),Object(h.jsxs)("h3",{className:"status",children:["status: ",Object(h.jsx)("br",{}),l]}),Object(h.jsx)("img",{className:"card-img",src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),alt:"Weather Forecast Icon"})]},t),Object(h.jsx)(j.b,{to:"/hi-lo/",children:Object(h.jsx)("button",{className:"delete-btn",onClick:function(){return u(c)},children:"\xd7"})})]})}),f=function(e){var t=e.allCities,c=e.onSelect,a=(e.clickedCard,e.details),n=e.stateStrings,s=e.deleteCity,r=t.map((function(e,t){return Object(h.jsx)(j.c,{className:"card-link",to:"/hi-lo/".concat(e.name),children:Object(h.jsx)(O,{id:e.id,onSelect:function(){return c(e)},clickedCard:e,details:a,name:e.name,hi:e.main.temp_max,lo:e.main.temp_min,description:e.weather[0].description,icon:e.weather[0].icon,stateString:n[t],deleteCity:s},e.id)})}));return Object(h.jsx)("div",{className:"cities-container",children:r})},y=function(e){return e.main.temp_max=Math.round(1.8*(e.main.temp_max-273.15)+32),e.main.temp_min=Math.round(1.8*(e.main.temp_min-273.15)+32),e},g=function(e){return e.daily.forEach((function(e,t){if(t>0){var c=new Date(1e3*e.dt).toString().split(" ").slice(0,1).join(" ").toUpperCase(),a=Math.round(1.8*(e.temp.max-273.15)+32),n=Math.round(1.8*(e.temp.min-273.15)+32);e.dt=c,e.temp.max=a,e.temp.min=n}})),e.hourly.forEach((function(e,t){var c=Math.round(1.8*(e.temp-273.15)+32);e.temp=c})),e.current.temp=Math.round(1.8*(e.current.temp-273.15)+32),e.current.feels_like=Math.round(1.8*(e.current.feels_like-273.15)+32),e},N="https://api.openweathermap.org/data/2.5/",w="dc464d940e53a603d97ca8d66b0afd96";function v(e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(i.a.mark((function e(t){var c,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(N,"weather?q=").concat(t,"&appid=").concat(w));case 2:if(404!==(c=e.sent).status){e.next=5;break}return e.abrupt("return",void 0);case 5:if(200===c.status){e.next=7;break}throw new Error("Failed to read location data");case 7:if(200!==c.status){e.next=12;break}return e.next=10,c.json();case 10:return a=e.sent,e.abrupt("return",y(a));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F="https://api.openweathermap.org/data/2.5/onecall?";function k(e,t){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(i.a.mark((function e(t,c){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(F,"lat=").concat(t,"&lon=").concat(c,"&exclude=minutely&appid=").concat(w));case 2:if(404!==(a=e.sent).status){e.next=5;break}return e.abrupt("return",void 0);case 5:if(200===a.status){e.next=7;break}throw new Error("Failed to read location data");case 7:if(200!==a.status){e.next=12;break}return e.next=10,a.json();case 10:return n=e.sent,e.abrupt("return",g(n));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=c(2),T=(c(48),c(49),function(){return Object(h.jsx)("h2",{className:"loading",children:"loading weather data...\ud83c\udf24"})}),_=function(e){var t=e.details,c=e.clickedCard;if(t&&c){var a=t.current,n=a.dt,s=a.feels_like,r=a.humidity,i=a.sunrise,l=a.sunset,o=a.temp,d=t.current.weather[0],j=(d.id,d.main,d.description),u=(d.icon,new Date(1e3*n).toString().split(" ").slice(0,4).join(" ")),m=function(e){var t=new Date(1e3*e).toLocaleString(),c=t.split(" ")[2];return 7===t.split(" ")[1].length?t.split(" ")[1].split("").slice(0,4).join("")+c:t.split(" ")[1].split("").slice(0,5).join("")+c};return Object(h.jsx)("div",{children:Object(h.jsx)("section",{className:"todays-container",children:Object(h.jsxs)("article",{className:"todays-details",children:[Object(h.jsxs)("h1",{className:"todays-header",children:["Detailed forecast for ",c.name]}),Object(h.jsx)("h2",{className:"converted-date",children:u}),Object(h.jsxs)("section",{className:"column-section",children:[Object(h.jsxs)("div",{className:"left",children:[Object(h.jsxs)("p",{className:"curr-temp",children:[o.toFixed(0),"\xb0F"]}),Object(h.jsxs)("p",{className:"high low",children:["hi ",c.main.temp_max.toFixed(0),"\xb0F lo ",c.main.temp_min.toFixed(0),"\xb0F"]}),Object(h.jsxs)("p",{className:"feels-like-temp",children:["FEELS LIKE ",s.toFixed(0),"\xb0F"]}),Object(h.jsxs)("p",{className:"descrip",children:["STATUS: ",j.toUpperCase()]}),Object(h.jsxs)("p",{className:"humidity",children:["HUMIDITY: ",r,"%"]}),Object(h.jsxs)("p",{className:"sunrise",children:["SUNRISE: ",m(i)]}),Object(h.jsxs)("p",{className:"sunset",children:["SUNSET: ",m(l)]})]}),Object(h.jsxs)("div",{className:"right",children:[Object(h.jsxs)("section",{className:"hourly-forecast",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.hourly[0].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Time"}),Object(h.jsx)("li",{children:m(t.hourly[0].dt)}),Object(h.jsx)("li",{children:"Temp"}),Object(h.jsxs)("li",{children:[t.hourly[0].temp.toFixed(0),"\xb0F"]})]})]}),Object(h.jsxs)("section",{className:"hourly-forecast",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.hourly[1].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Time"}),Object(h.jsx)("li",{children:m(t.hourly[1].dt)}),Object(h.jsx)("li",{children:"Temp"}),Object(h.jsxs)("li",{children:[t.hourly[1].temp.toFixed(0),"\xb0F"]})]})]}),Object(h.jsxs)("section",{className:"hourly-forecast",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.hourly[2].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Time"}),Object(h.jsx)("li",{children:m(t.hourly[2].dt)}),Object(h.jsx)("li",{children:"Temp"}),Object(h.jsxs)("li",{children:[t.hourly[2].temp.toFixed(0),"\xb0F"]})]})]}),Object(h.jsxs)("section",{className:"hourly-forecast",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.hourly[3].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Time"}),Object(h.jsx)("li",{children:m(t.hourly[3].dt)}),Object(h.jsx)("li",{children:"Temp"}),Object(h.jsxs)("li",{children:[t.hourly[3].temp.toFixed(0),"\xb0F"]})]})]}),Object(h.jsxs)("section",{className:"hourly-forecast",children:[Object(h.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(t.hourly[4].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"Time"}),Object(h.jsx)("li",{children:m(t.hourly[4].dt)}),Object(h.jsx)("li",{children:"Temp"}),Object(h.jsxs)("li",{children:[t.hourly[4].temp.toFixed(0),"\xb0F"]})]})]})]})]})]})})})}return Object(h.jsx)(T,{header:""})},E=(c(50),function(e){e.key,e.temp;var t=e.days;return t?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h4",{className:"fiveday-title",children:"the upcoming days.."}),Object(h.jsxs)("section",{className:"all-days",children:[Object(h.jsxs)("section",{className:"day-two",children:[Object(h.jsx)("p",{className:"day-two-date",children:t.daily[1].dt}),Object(h.jsx)("img",{className:"day-two-icon",src:"http://openweathermap.org/img/wn/".concat(t.daily[1].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("p",{className:"day-two-hi",children:[t.daily[1].temp.max,"\xb0F"]}),Object(h.jsxs)("p",{className:"day-two-lo",children:[t.daily[1].temp.min,"\xb0F"]})]}),Object(h.jsxs)("section",{className:"day-three",children:[Object(h.jsx)("p",{className:"day-three-date",children:t.daily[2].dt}),Object(h.jsx)("img",{className:"day-three-icon",src:"http://openweathermap.org/img/wn/".concat(t.daily[2].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("p",{className:"day-three-hi",children:[t.daily[2].temp.max,"\xb0F"]}),Object(h.jsxs)("p",{className:"day-three-lo",children:[t.daily[2].temp.min,"\xb0F"]})]}),Object(h.jsxs)("section",{className:"day-four",children:[Object(h.jsx)("p",{className:"day-four-date",children:t.daily[3].dt}),Object(h.jsx)("img",{className:"day-four-icon",src:"http://openweathermap.org/img/wn/".concat(t.daily[3].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("p",{className:"day-four-hi",children:[t.daily[3].temp.max,"\xb0F"]}),Object(h.jsxs)("p",{className:"day-four-lo",children:[t.daily[3].temp.min,"\xb0F"]})]}),Object(h.jsxs)("section",{className:"day-five",children:[Object(h.jsx)("p",{className:"day-five-date",children:t.daily[4].dt}),Object(h.jsx)("img",{className:"day-five-icon",src:"http://openweathermap.org/img/wn/".concat(t.daily[4].weather[0].icon,"@2x.png"),alt:"Weather Icon"}),Object(h.jsxs)("p",{className:"day-five-hi",children:[t.daily[4].temp.max,"\xb0F"]}),Object(h.jsxs)("p",{className:"day-five-lo",children:[t.daily[4].temp.min,"\xb0F"]})]})]})]}):null}),W=function(e){var t=e.fiveDayDetails;if(t){var c=t.current,a=(c.dt,c.feels_like,c.humidity,c.sunrise,c.sunset,c.temp),n=t.current.weather[0],s=n.id;n.main,n.description,n.icon,t.daily;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(E,{temp:a,days:t},s)})}return null},D=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(""),r=Object(d.a)(s,2),j=r[0],m=r[1],p=Object(a.useState)(""),b=Object(d.a)(p,2),O=b[0],y=b[1],g=Object(a.useState)(null),N=Object(d.a)(g,2),w=N[0],S=N[1],F=Object(a.useState)(null),C=Object(d.a)(F,2),T=C[0],E=C[1],D=Object(a.useState)([]),M=Object(d.a)(D,2),U=M[0],L=M[1],A=function(){var e=Object(o.a)(i.a.mark((function e(t){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(""),y(""),e.next=3,v(t);case 3:a=e.sent,(s=t.split(", ")[1])&&L([s].concat(Object(l.a)(U))),a?c.find((function(e){return e.id===a.id}))?y("Location '".concat(t,"' is already in the list.")):(n([a].concat(Object(l.a)(c))),P(a.id,a)):m("No location found called '".concat(t,"'"));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(o.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t.lat.toString(),t.lon.toString());case 2:(c=e.sent)?E(c):J(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return Object.keys(localStorage).forEach((function(e){var t=localStorage.getItem("".concat(e)),a=JSON.parse(t);n([a].concat(Object(l.a)(c))),c.push(a)}))}),[]);var B=function(e){var t=c.find((function(t){return t.id===e}));localStorage.removeItem(t.id),H(e)},H=function(e){var t=c.filter((function(t){return t.id!==e}));n(t)},P=function(e,t){var c=JSON.stringify(t);localStorage.setItem("".concat(e),c)};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(I.a,{exact:!0,path:"/hi-lo",render:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u,{}),Object(h.jsxs)("main",{className:"main",children:[Object(h.jsx)(x,{onSearch:A}),j?Object(h.jsx)("div",{className:"error",children:j}):null,O?Object(h.jsx)("div",{className:"warning",children:O}):null,c.length?Object(h.jsx)(f,{allCities:c,onSelect:function(e){S(e),J(e.coord)},clickedCard:w,details:T,stateStrings:U,deleteCity:B}):Object(h.jsx)("h2",{className:"no-city",children:"No forecasts to show"})]})]})}}),Object(h.jsx)(I.a,{exact:!0,path:"/hi-lo/:name",render:function(e){var t=e.match;return w||T||(A(t.params.name),c.length>=1&&(S(c[0]),J(c[0].coord))),Object(h.jsxs)("main",{className:"details",children:[Object(h.jsx)(u,{}),Object(h.jsx)(_,{details:T,clickedCard:w}),Object(h.jsx)(W,{fiveDayDetails:T})]})}})]})},M=Object(h.jsxs)(j.a,{children:[" ",Object(h.jsx)(D,{})," "]});s.a.render(M,document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.c9c67573.chunk.js.map